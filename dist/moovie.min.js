!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.Moovie=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){!function(){"use strict";var isCommonjs="undefined"!=typeof module&&module.exports,keyboardAllowed="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,fn=function(){for(var val,valLength,fnMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,l=fnMap.length,ret={};i<l;i++)if(val=fnMap[i],val&&val[1]in document){for(i=0,valLength=val.length;i<valLength;i++)ret[fnMap[0][i]]=val[i];return ret}return!1}(),screenfull={request:function(elem){var request=fn.requestFullscreen;elem=elem||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?elem[request]():elem[request](keyboardAllowed&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[fn.exitFullscreen]()},toggle:function(elem){this.isFullscreen?this.exit():this.request(elem)},raw:fn};return fn?(Object.defineProperties(screenfull,{isFullscreen:{get:function(){return Boolean(document[fn.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[fn.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[fn.fullscreenEnabled])}}}),void(isCommonjs?module.exports=screenfull:window.screenfull=screenfull)):void(isCommonjs?module.exports=!1:window.screenfull=!1)}()},{}],2:[function(require,module,exports){module.exports={WebVTT:require("./vtt.js").WebVTT,VTTCue:require("./vttcue-extended.js").VTTCue,VTTRegion:require("./vttregion-extended.js").VTTRegion}},{"./vtt.js":3,"./vttcue-extended.js":4,"./vttregion-extended.js":6}],3:[function(require,module,exports){!function(global){function ParsingError(errorData,message){this.name="ParsingError",this.code=errorData.code,this.message=message||errorData.message}function parseTimeStamp(input){function computeSeconds(h,m,s,f){return 3600*(0|h)+60*(0|m)+(0|s)+(0|f)/1e3}var m=input.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return m?m[3]?computeSeconds(m[1],m[2],m[3].replace(":",""),m[4]):m[1]>59?computeSeconds(m[1],m[2],0,m[4]):computeSeconds(0,m[1],m[2],m[4]):null}function Settings(){this.values=_objCreate(null)}function parseOptions(input,callback,keyValueDelim,groupDelim){var groups=groupDelim?input.split(groupDelim):[input];for(var i in groups)if("string"==typeof groups[i]){var kv=groups[i].split(keyValueDelim);if(2===kv.length){var k=kv[0],v=kv[1];callback(k,v)}}}function parseCue(input,cue,regionList){function consumeTimeStamp(){var ts=parseTimeStamp(input);if(null===ts)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+oInput);return input=input.replace(/^[^\sa-zA-Z-]+/,""),ts}function consumeCueSettings(input,cue){var settings=new Settings;parseOptions(input,function(k,v){switch(k){case"region":for(var i=regionList.length-1;i>=0;i--)if(regionList[i].id===v){settings.set(k,regionList[i].region);break}break;case"vertical":settings.alt(k,v,["rl","lr"]);break;case"line":var vals=v.split(","),vals0=vals[0];settings.integer(k,vals0),settings.percent(k,vals0)?settings.set("snapToLines",!1):null,settings.alt(k,vals0,["auto"]),2===vals.length&&settings.alt("lineAlign",vals[1],["start","middle","end"]);break;case"position":vals=v.split(","),settings.percent(k,vals[0]),2===vals.length&&settings.alt("positionAlign",vals[1],["start","middle","end"]);break;case"size":settings.percent(k,v);break;case"align":settings.alt(k,v,["start","middle","end","left","right"])}},/:/,/\s/),cue.region=settings.get("region",null),cue.vertical=settings.get("vertical",""),cue.line=settings.get("line","auto"),cue.lineAlign=settings.get("lineAlign","start"),cue.snapToLines=settings.get("snapToLines",!0),cue.size=settings.get("size",100),cue.align=settings.get("align","middle"),cue.position=settings.get("position",{start:0,left:0,middle:50,end:100,right:100},cue.align),cue.positionAlign=settings.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},cue.align)}function skipWhitespace(){input=input.replace(/^\s+/,"")}var oInput=input;if(skipWhitespace(),cue.startTime=consumeTimeStamp(),skipWhitespace(),"-->"!==input.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+oInput);input=input.substr(3),skipWhitespace(),cue.endTime=consumeTimeStamp(),skipWhitespace(),consumeCueSettings(input,cue)}function parseContent(window,input){function nextToken(){function consume(result){return input=input.substr(result.length),result}if(!input)return null;var m=input.match(/^([^<]*)(<[^>]+>?)?/);return consume(m[1]?m[1]:m[2])}function unescape1(e){return ESCAPE[e]}function unescape(s){for(;m=s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)s=s.replace(m[0],unescape1);return s}function shouldAdd(current,element){return!NEEDS_PARENT[element.localName]||NEEDS_PARENT[element.localName]===current.localName}function createElement(type,annotation){var tagName=TAG_NAME[type];if(!tagName)return null;var element=window.document.createElement(tagName);element.localName=tagName;var name=TAG_ANNOTATION[type];return name&&annotation&&(element[name]=annotation.trim()),element}for(var t,rootDiv=window.document.createElement("div"),current=rootDiv,tagStack=[];null!==(t=nextToken());)if("<"!==t[0])current.appendChild(window.document.createTextNode(unescape(t)));else{if("/"===t[1]){tagStack.length&&tagStack[tagStack.length-1]===t.substr(2).replace(">","")&&(tagStack.pop(),current=current.parentNode);continue}var node,ts=parseTimeStamp(t.substr(1,t.length-2));if(ts){node=window.document.createProcessingInstruction("timestamp",ts),current.appendChild(node);continue}var m=t.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m)continue;if(node=createElement(m[1],m[3]),!node)continue;if(!shouldAdd(current,node))continue;m[2]&&(node.className=m[2].substr(1).replace("."," ")),tagStack.push(m[1]),current.appendChild(node),current=node}return rootDiv}function determineBidi(cueDiv){function pushNodes(nodeStack,node){for(var i=node.childNodes.length-1;i>=0;i--)nodeStack.push(node.childNodes[i])}function nextTextNode(nodeStack){if(!nodeStack||!nodeStack.length)return null;var node=nodeStack.pop(),text=node.textContent||node.innerText;if(text){var m=text.match(/^.*(\n|\r)/);return m?(nodeStack.length=0,m[0]):text}return"ruby"===node.tagName?nextTextNode(nodeStack):node.childNodes?(pushNodes(nodeStack,node),nextTextNode(nodeStack)):void 0}var charCode,nodeStack=[],text="";if(!cueDiv||!cueDiv.childNodes)return"ltr";for(pushNodes(nodeStack,cueDiv);text=nextTextNode(nodeStack);)for(var i=0;i<text.length;i++){charCode=text.charCodeAt(i);for(var j=0;j<strongRTLChars.length;j++)if(strongRTLChars[j]===charCode)return"rtl"}return"ltr"}function computeLinePos(cue){if("number"==typeof cue.line&&(cue.snapToLines||cue.line>=0&&cue.line<=100))return cue.line;if(!cue.track||!cue.track.textTrackList||!cue.track.textTrackList.mediaElement)return-1;for(var track=cue.track,trackList=track.textTrackList,count=0,i=0;i<trackList.length&&trackList[i]!==track;i++)"showing"===trackList[i].mode&&count++;return++count*-1}function StyleBox(){}function CueStyleBox(window,cue,styleOptions){var isIE8=/MSIE\s8\.0/.test(navigator.userAgent),color="rgba(255, 255, 255, 1)",backgroundColor="rgba(0, 0, 0, 0.8)";isIE8&&(color="rgb(255, 255, 255)",backgroundColor="rgb(0, 0, 0)"),StyleBox.call(this),this.cue=cue,this.cueDiv=parseContent(window,cue.text);var styles={color:color,backgroundColor:backgroundColor,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};isIE8||(styles.writingMode=""===cue.vertical?"horizontal-tb":"lr"===cue.vertical?"vertical-lr":"vertical-rl",styles.unicodeBidi="plaintext"),this.applyStyles(styles,this.cueDiv),this.div=window.document.createElement("div"),styles={textAlign:"middle"===cue.align?"center":cue.align,font:styleOptions.font,whiteSpace:"pre-line",position:"absolute"},isIE8||(styles.direction=determineBidi(this.cueDiv),styles.writingMode=""===cue.vertical?"horizontal-tb":"lr"===cue.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(styles),this.div.appendChild(this.cueDiv);var textPos=0;switch(cue.positionAlign){case"start":textPos=cue.position;break;case"middle":textPos=cue.position-cue.size/2;break;case"end":textPos=cue.position-cue.size}""===cue.vertical?this.applyStyles({left:this.formatStyle(textPos,"%"),width:this.formatStyle(cue.size,"%")}):this.applyStyles({top:this.formatStyle(textPos,"%"),height:this.formatStyle(cue.size,"%")}),this.move=function(box){this.applyStyles({top:this.formatStyle(box.top,"px"),bottom:this.formatStyle(box.bottom,"px"),left:this.formatStyle(box.left,"px"),right:this.formatStyle(box.right,"px"),height:this.formatStyle(box.height,"px"),width:this.formatStyle(box.width,"px")})}}function BoxPosition(obj){var lh,height,width,top,isIE8=/MSIE\s8\.0/.test(navigator.userAgent);if(obj.div){height=obj.div.offsetHeight,width=obj.div.offsetWidth,top=obj.div.offsetTop;var rects=(rects=obj.div.childNodes)&&(rects=rects[0])&&rects.getClientRects&&rects.getClientRects();obj=obj.div.getBoundingClientRect(),lh=rects?Math.max(rects[0]&&rects[0].height||0,obj.height/rects.length):0}this.left=obj.left,this.right=obj.right,this.top=obj.top||top,this.height=obj.height||height,this.bottom=obj.bottom||top+(obj.height||height),this.width=obj.width||width,this.lineHeight=void 0!==lh?lh:obj.lineHeight,isIE8&&!this.lineHeight&&(this.lineHeight=13)}function moveBoxToLinePosition(window,styleBox,containerBox,boxPositions){function findBestPosition(b,axis){for(var bestPosition,specifiedPosition=new BoxPosition(b),percentage=1,i=0;i<axis.length;i++){for(;b.overlapsOppositeAxis(containerBox,axis[i])||b.within(containerBox)&&b.overlapsAny(boxPositions);)b.move(axis[i]);if(b.within(containerBox))return b;var p=b.intersectPercentage(containerBox);percentage>p&&(bestPosition=new BoxPosition(b),percentage=p),b=new BoxPosition(specifiedPosition)}return bestPosition||specifiedPosition}var boxPosition=new BoxPosition(styleBox),cue=styleBox.cue,linePos=computeLinePos(cue),axis=[];if(cue.snapToLines){var size;switch(cue.vertical){case"":axis=["+y","-y"],size="height";break;case"rl":axis=["+x","-x"],size="width";break;case"lr":axis=["-x","+x"],size="width"}var step=boxPosition.lineHeight,position=step*Math.round(linePos),maxPosition=containerBox[size]+step,initialAxis=axis[0];Math.abs(position)>maxPosition&&(position=position<0?-1:1,position*=Math.ceil(maxPosition/step)*step),linePos<0&&(position+=""===cue.vertical?containerBox.height:containerBox.width,axis=axis.reverse()),boxPosition.move(initialAxis,position)}else{var calculatedPercentage=boxPosition.lineHeight/containerBox.height*100;switch(cue.lineAlign){case"middle":linePos-=calculatedPercentage/2;break;case"end":linePos-=calculatedPercentage}switch(cue.vertical){case"":styleBox.applyStyles({top:styleBox.formatStyle(linePos,"%")});break;case"rl":styleBox.applyStyles({left:styleBox.formatStyle(linePos,"%")});break;case"lr":styleBox.applyStyles({right:styleBox.formatStyle(linePos,"%")})}axis=["+y","-x","+x","-y"],boxPosition=new BoxPosition(styleBox)}var bestPosition=findBestPosition(boxPosition,axis);styleBox.move(bestPosition.toCSSCompatValues(containerBox))}function WebVTT(){}var _objCreate=Object.create||function(){function F(){}return function(o){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=o,new F}}();ParsingError.prototype=_objCreate(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(k,v){this.get(k)||""===v||(this.values[k]=v)},get:function(k,dflt,defaultKey){return defaultKey?this.has(k)?this.values[k]:dflt[defaultKey]:this.has(k)?this.values[k]:dflt},has:function(k){return k in this.values},alt:function(k,v,a){for(var n=0;n<a.length;++n)if(v===a[n]){this.set(k,v);break}},integer:function(k,v){/^-?\d+$/.test(v)&&this.set(k,parseInt(v,10))},percent:function(k,v){var m;return!!((m=v.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(v=parseFloat(v),v>=0&&v<=100))&&(this.set(k,v),!0)}};var ESCAPE={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},TAG_ANNOTATION={v:"title",lang:"lang"},NEEDS_PARENT={rt:"ruby"},strongRTLChars=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];StyleBox.prototype.applyStyles=function(styles,div){div=div||this.div;for(var prop in styles)styles.hasOwnProperty(prop)&&(div.style[prop]=styles[prop])},StyleBox.prototype.formatStyle=function(val,unit){return 0===val?0:val+unit},CueStyleBox.prototype=_objCreate(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(axis,toMove){switch(toMove=void 0!==toMove?toMove:this.lineHeight,axis){case"+x":this.left+=toMove,this.right+=toMove;break;case"-x":this.left-=toMove,this.right-=toMove;break;case"+y":this.top+=toMove,this.bottom+=toMove;break;case"-y":this.top-=toMove,this.bottom-=toMove}},BoxPosition.prototype.overlaps=function(b2){return this.left<b2.right&&this.right>b2.left&&this.top<b2.bottom&&this.bottom>b2.top},BoxPosition.prototype.overlapsAny=function(boxes){for(var i=0;i<boxes.length;i++)if(this.overlaps(boxes[i]))return!0;return!1},BoxPosition.prototype.within=function(container){return this.top>=container.top&&this.bottom<=container.bottom&&this.left>=container.left&&this.right<=container.right},BoxPosition.prototype.overlapsOppositeAxis=function(container,axis){switch(axis){case"+x":return this.left<container.left;case"-x":return this.right>container.right;case"+y":return this.top<container.top;case"-y":return this.bottom>container.bottom}},BoxPosition.prototype.intersectPercentage=function(b2){var x=Math.max(0,Math.min(this.right,b2.right)-Math.max(this.left,b2.left)),y=Math.max(0,Math.min(this.bottom,b2.bottom)-Math.max(this.top,b2.top)),intersectArea=x*y;return intersectArea/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(reference){return{top:this.top-reference.top,bottom:reference.bottom-this.bottom,left:this.left-reference.left,right:reference.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(obj){var height=obj.div?obj.div.offsetHeight:obj.tagName?obj.offsetHeight:0,width=obj.div?obj.div.offsetWidth:obj.tagName?obj.offsetWidth:0,top=obj.div?obj.div.offsetTop:obj.tagName?obj.offsetTop:0;obj=obj.div?obj.div.getBoundingClientRect():obj.tagName?obj.getBoundingClientRect():obj;var ret={left:obj.left,right:obj.right,top:obj.top||top,height:obj.height||height,bottom:obj.bottom||top+(obj.height||height),width:obj.width||width};return ret},WebVTT.StringDecoder=function(){return{decode:function(data){if(!data)return"";if("string"!=typeof data)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(data))}}},WebVTT.convertCueToDOMTree=function(window,cuetext){return window&&cuetext?parseContent(window,cuetext):null};var FONT_SIZE_PERCENT=.05,FONT_STYLE="sans-serif",CUE_BACKGROUND_PADDING="1.5%";WebVTT.processCues=function(window,cues,overlay){function shouldCompute(cues){for(var i=0;i<cues.length;i++)if(cues[i].hasBeenReset||!cues[i].displayState)return!0;return!1}if(!window||!cues||!overlay)return null;for(;overlay.firstChild;)overlay.removeChild(overlay.firstChild);var paddedOverlay=window.document.createElement("div");if(paddedOverlay.style.position="absolute",paddedOverlay.style.left="0",paddedOverlay.style.right="0",paddedOverlay.style.top="0",paddedOverlay.style.bottom="0",paddedOverlay.style.margin=CUE_BACKGROUND_PADDING,overlay.appendChild(paddedOverlay),shouldCompute(cues)){var boxPositions=[],containerBox=BoxPosition.getSimpleBoxPosition(paddedOverlay),fontSize=Math.round(containerBox.height*FONT_SIZE_PERCENT*100)/100,styleOptions={font:fontSize+"px "+FONT_STYLE};!function(){for(var styleBox,cue,i=0;i<cues.length;i++)cue=cues[i],styleBox=new CueStyleBox(window,cue,styleOptions),paddedOverlay.appendChild(styleBox.div),moveBoxToLinePosition(window,styleBox,containerBox,boxPositions),cue.displayState=styleBox.div,boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox))}()}else for(var i=0;i<cues.length;i++)paddedOverlay.appendChild(cues[i].displayState)},WebVTT.Parser=function(window,decoder){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=decoder||new TextDecoder("utf8"),this.regionList=[]},WebVTT.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof ParsingError))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(data){function collectNextLine(){for(var buffer=self.buffer,pos=0;pos<buffer.length&&"\r"!==buffer[pos]&&"\n"!==buffer[pos];)++pos;var line=buffer.substr(0,pos);return"\r"===buffer[pos]&&++pos,"\n"===buffer[pos]&&++pos,self.buffer=buffer.substr(pos),line}function parseRegion(input){var settings=new Settings;if(parseOptions(input,function(k,v){switch(k){case"id":settings.set(k,v);break;case"width":settings.percent(k,v);break;case"lines":settings.integer(k,v);break;case"regionanchor":case"viewportanchor":var xy=v.split(",");if(2!==xy.length)break;var anchor=new Settings;if(anchor.percent("x",xy[0]),anchor.percent("y",xy[1]),!anchor.has("x")||!anchor.has("y"))break;settings.set(k+"X",anchor.get("x")),settings.set(k+"Y",anchor.get("y"));break;case"scroll":settings.alt(k,v,["up"])}},/=/,/\s/),settings.has("id")){var region=new self.window.VTTRegion;region.width=settings.get("width",100),region.lines=settings.get("lines",3),region.regionAnchorX=settings.get("regionanchorX",0),region.regionAnchorY=settings.get("regionanchorY",100),region.viewportAnchorX=settings.get("viewportanchorX",0),region.viewportAnchorY=settings.get("viewportanchorY",100),region.scroll=settings.get("scroll",""),self.onregion&&self.onregion(region),self.regionList.push({id:settings.get("id"),region:region})}}function parseHeader(input){parseOptions(input,function(k,v){switch(k){case"Region":parseRegion(v)}},/:/)}var self=this;data&&(self.buffer+=self.decoder.decode(data,{stream:!0}));try{var line;if("INITIAL"===self.state){if(!/\r\n|\n/.test(self.buffer))return this;line=collectNextLine();var m=line.match(/^WEBVTT([ \t].*)?$/);if(!m||!m[0])throw new ParsingError(ParsingError.Errors.BadSignature);self.state="HEADER"}for(var alreadyCollectedLine=!1;self.buffer;){if(!/\r\n|\n/.test(self.buffer))return this;switch(alreadyCollectedLine?alreadyCollectedLine=!1:line=collectNextLine(),self.state){case"HEADER":/:/.test(line)?parseHeader(line):line||(self.state="ID");continue;case"NOTE":line||(self.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(line)){self.state="NOTE";break}if(!line)continue;if(self.cue=new self.window.VTTCue(0,0,""),self.state="CUE",line.indexOf("-->")===-1){self.cue.id=line;continue}case"CUE":try{parseCue(line,self.cue,self.regionList)}catch(e){self.reportOrThrowError(e),self.cue=null,self.state="BADCUE";continue}self.state="CUETEXT";continue;case"CUETEXT":var hasSubstring=line.indexOf("-->")!==-1;if(!line||hasSubstring&&(alreadyCollectedLine=!0)){self.oncue&&self.oncue(self.cue),self.cue=null,self.state="ID";continue}self.cue.text&&(self.cue.text+="\n"),self.cue.text+=line;continue;case"BADCUE":line||(self.state="ID");continue}}}catch(e){self.reportOrThrowError(e),"CUETEXT"===self.state&&self.cue&&self.oncue&&self.oncue(self.cue),self.cue=null,self.state="INITIAL"===self.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var self=this;try{if(self.buffer+=self.decoder.decode(),(self.cue||"HEADER"===self.state)&&(self.buffer+="\n\n",self.parse()),"INITIAL"===self.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(e){self.reportOrThrowError(e)}return self.onflush&&self.onflush(),this}},global.WebVTT=WebVTT}(this)},{}],4:[function(require,module,exports){"undefined"!=typeof module&&module.exports&&(this.VTTCue=this.VTTCue||require("./vttcue").VTTCue),
function(root){root.VTTCue.prototype.toJSON=function(){var cue={},self=this;return Object.keys(this).forEach(function(key){"getCueAsHTML"!==key&&"hasBeenReset"!==key&&"displayState"!==key&&(cue[key]=self[key])}),cue},root.VTTCue.create=function(options){if(!options.hasOwnProperty("startTime")||!options.hasOwnProperty("endTime")||!options.hasOwnProperty("text"))throw new Error("You must at least have start time, end time, and text.");var cue=new root.VTTCue(options.startTime,options.endTime,options.text);for(var key in options)cue.hasOwnProperty(key)&&(cue[key]=options[key]);return cue},root.VTTCue.fromJSON=function(json){return this.create(JSON.parse(json))}}(this)},{"./vttcue":5}],5:[function(require,module,exports){!function(root){function findDirectionSetting(value){if("string"!=typeof value)return!1;var dir=directionSetting[value.toLowerCase()];return!!dir&&value.toLowerCase()}function findAlignSetting(value){if("string"!=typeof value)return!1;var align=alignSetting[value.toLowerCase()];return!!align&&value.toLowerCase()}function extend(obj){for(var i=1;i<arguments.length;i++){var cobj=arguments[i];for(var p in cobj)obj[p]=cobj[p]}return obj}function VTTCue(startTime,endTime,text){var cue=this,isIE8=/MSIE\s8\.0/.test(navigator.userAgent),baseObj={};isIE8?cue=document.createElement("custom"):baseObj.enumerable=!0,cue.hasBeenReset=!1;var _id="",_pauseOnExit=!1,_startTime=startTime,_endTime=endTime,_text=text,_region=null,_vertical="",_snapToLines=!0,_line="auto",_lineAlign="start",_position=50,_positionAlign="middle",_size=50,_align="middle";if(Object.defineProperty(cue,"id",extend({},baseObj,{get:function(){return _id},set:function(value){_id=""+value}})),Object.defineProperty(cue,"pauseOnExit",extend({},baseObj,{get:function(){return _pauseOnExit},set:function(value){_pauseOnExit=!!value}})),Object.defineProperty(cue,"startTime",extend({},baseObj,{get:function(){return _startTime},set:function(value){if("number"!=typeof value)throw new TypeError("Start time must be set to a number.");_startTime=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"endTime",extend({},baseObj,{get:function(){return _endTime},set:function(value){if("number"!=typeof value)throw new TypeError("End time must be set to a number.");_endTime=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"text",extend({},baseObj,{get:function(){return _text},set:function(value){_text=""+value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"region",extend({},baseObj,{get:function(){return _region},set:function(value){_region=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"vertical",extend({},baseObj,{get:function(){return _vertical},set:function(value){var setting=findDirectionSetting(value);if(setting===!1)throw new SyntaxError("An invalid or illegal string was specified.");_vertical=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"snapToLines",extend({},baseObj,{get:function(){return _snapToLines},set:function(value){_snapToLines=!!value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"line",extend({},baseObj,{get:function(){return _line},set:function(value){if("number"!=typeof value&&value!==autoKeyword)throw new SyntaxError("An invalid number or illegal string was specified.");_line=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"lineAlign",extend({},baseObj,{get:function(){return _lineAlign},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_lineAlign=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"position",extend({},baseObj,{get:function(){return _position},set:function(value){if(value<0||value>100)throw new Error("Position must be between 0 and 100.");_position=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"positionAlign",extend({},baseObj,{get:function(){return _positionAlign},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_positionAlign=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"size",extend({},baseObj,{get:function(){return _size},set:function(value){if(value<0||value>100)throw new Error("Size must be between 0 and 100.");_size=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"align",extend({},baseObj,{get:function(){return _align},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_align=setting,this.hasBeenReset=!0}})),cue.displayState=void 0,isIE8)return cue}var autoKeyword="auto",directionSetting={"":!0,lr:!0,rl:!0},alignSetting={start:!0,middle:!0,end:!0,left:!0,right:!0};VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},root.VTTCue=VTTCue||root.VTTCue}(this)},{}],6:[function(require,module,exports){"undefined"!=typeof module&&module.exports&&(this.VTTRegion=require("./vttregion").VTTRegion),function(root){root.VTTRegion.create=function(options){var region=new root.VTTRegion;for(var key in options)region.hasOwnProperty(key)&&(region[key]=options[key]);return region},root.VTTRegion.fromJSON=function(json){return this.create(JSON.parse(json))}}(this)},{"./vttregion":7}],7:[function(require,module,exports){!function(root){function findScrollSetting(value){if("string"!=typeof value)return!1;var scroll=scrollSetting[value.toLowerCase()];return!!scroll&&value.toLowerCase()}function isValidPercentValue(value){return"number"==typeof value&&value>=0&&value<=100}function VTTRegion(){var _width=100,_lines=3,_regionAnchorX=0,_regionAnchorY=100,_viewportAnchorX=0,_viewportAnchorY=100,_scroll="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return _width},set:function(value){if(!isValidPercentValue(value))throw new Error("Width must be between 0 and 100.");_width=value}},lines:{enumerable:!0,get:function(){return _lines},set:function(value){if("number"!=typeof value)throw new TypeError("Lines must be set to a number.");_lines=value}},regionAnchorY:{enumerable:!0,get:function(){return _regionAnchorY},set:function(value){if(!isValidPercentValue(value))throw new Error("RegionAnchorX must be between 0 and 100.");_regionAnchorY=value}},regionAnchorX:{enumerable:!0,get:function(){return _regionAnchorX},set:function(value){if(!isValidPercentValue(value))throw new Error("RegionAnchorY must be between 0 and 100.");_regionAnchorX=value}},viewportAnchorY:{enumerable:!0,get:function(){return _viewportAnchorY},set:function(value){if(!isValidPercentValue(value))throw new Error("ViewportAnchorY must be between 0 and 100.");_viewportAnchorY=value}},viewportAnchorX:{enumerable:!0,get:function(){return _viewportAnchorX},set:function(value){if(!isValidPercentValue(value))throw new Error("ViewportAnchorX must be between 0 and 100.");_viewportAnchorX=value}},scroll:{enumerable:!0,get:function(){return _scroll},set:function(value){var setting=findScrollSetting(value);if(setting===!1)throw new SyntaxError("An invalid or illegal string was specified.");_scroll=setting}}})}var scrollSetting={"":!0,up:!0};root.VTTRegion=root.VTTRegion||VTTRegion}(this)},{}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Debugger=new Class({Implements:[Options],options:{disabled:!1,monitorProperties:["autoplay","controls","currentSrc","currentTime","duration","ended","error","loop","muted","networkState","paused","playbackRate","preload","readyState","seeking","volume"]},initialize:function(video,options){this.video=document.id(video),this.setOptions(options),this.bound=this.getBoundEvents(),this.build(),this[this.options.disabled?"disable":"enable"]()},build:function(){var _this=this;return this.element=new Element("div.debug"),this.elements={table:new Element("table"),tbody:new Element("tbody"),p:new Element("p[text=Debugger ready...]")},this.options.monitorProperties.forEach(function(property){var row=new Element("tr[data-property="+property+"]"),label=new Element("td[text="+property+"]"),value=new Element("td[text="+_this.video[property]+"]");row.adopt(label,value),_this.elements.tbody.grab(row)}),this.elements.table.grab(this.elements.tbody),this.element.adopt(this.elements.table,this.elements.p),this},attach:function(){return this.video.addEvents(this.bound),this},detach:function(){return this.video.removeEvents(this.bound),this},enable:function(){return this.disabled=!1,this.element.set("aria-disabled",!1),this.attach()},disable:function(){return this.disabled=!0,this.element.set("aria-disabled",!0),this.detach()},flashProperty:function(property,value){return this.elements.tbody.getElement("[data-property="+property+"] > td + td").set("text",value||this.video[property]).getParent().highlight(),this},flashMessage:function(message){return this.elements.p.set("html",message).highlight(),this},toElement:function(){return this.element},getBoundEvents:function(){var _this2=this;return{loadstart:function(){_this2.flashProperty("networkState").flashMessage("looking for data...")},progress:function(){_this2.flashProperty("networkState").flashMessage("fetching data...")},suspend:function(){_this2.flashProperty("networkState").flashMessage("data fetching suspended...")},abort:function(){_this2.flashProperty("networkState").flashMessage("data fetching aborted...")},error:function(){_this2.flashProperty("networkState").flashProperty("error",_this2.video.error.code).flashMessage("an error occurred while fetching data...")},emptied:function(){_this2.flashProperty("networkState").flashMessage("media resource is empty...")},stalled:function(){_this2.flashProperty("networkState").flashMessage("stalled while fetching data...")},loadedmetadata:function(){_this2.flashProperty("readyState").flashMessage("duration and dimensions have been determined...")},loadeddata:function(){_this2.flashProperty("readyState").flashMessage("first frame is available...")},waiting:function(){_this2.flashProperty("readyState").flashMessage("waiting for more data...")},playing:function(){_this2.flashProperty("readyState").flashMessage("playback has started...")},canplay:function(){_this2.flashProperty("readyState").flashMessage("media is ready to be played, but will likely be interrupted for buffering...")},canplaythrough:function(){_this2.flashProperty("readyState").flashMessage("media is ready to be played and will most likely play through without stopping...")},play:function(){_this2.flashProperty("paused")},pause:function(){_this2.flashProperty("paused")},ended:function(){_this2.flashProperty("paused").flashProperty("ended")},timeupdate:function(){_this2.flashProperty("currentTime",_this2.video.currentTime.round(3))},seeking:function(){_this2.flashProperty("seeking")},seeked:function(){_this2.flashProperty("seeking")},durationchange:function(){_this2.flashProperty("duration",_this2.video.duration.round(3))},ratechange:function(){_this2.flashProperty("playbackRate")},volumechange:function(){_this2.flashProperty("muted").flashProperty("volume",_this2.video.volume.round(2))}}}});exports.default=Debugger},{}],9:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _screenfull=require("screenfull"),_screenfull2=_interopRequireDefault(_screenfull),_HTMLTrackElement=require("./texttracks/HTMLTrackElement.js"),_HTMLTrackElement2=_interopRequireDefault(_HTMLTrackElement),_Debugger=require("./Debugger.js"),_Debugger2=_interopRequireDefault(_Debugger),_Title=require("./Title.js"),_Title2=_interopRequireDefault(_Title),_MediaEvents=require("./core/MediaEvents.js"),_MediaEvents2=_interopRequireDefault(_MediaEvents),_Playlist=require("./Playlist.js"),_Playlist2=_interopRequireDefault(_Playlist),_formatSeconds=require("./utils/formatSeconds.js"),_formatSeconds2=_interopRequireDefault(_formatSeconds),_basename=require("./utils/basename.js"),_basename2=_interopRequireDefault(_basename),_vtt=require("vtt.js"),HAS_TRACK_SUPPORT="track"in document.createElement("track"),Moovie=new Class({Implements:[Options],options:{debugger:{},title:{},autohideControls:!0,playlist:[],useNativeTextTracks:!1,polyfill:!1},initialize:function(video,options){var _this=this;this.video=document.id(video),this.setOptions(options),this.buildPlaylist(),this.container=new Element("div.moovie"),this.wrapper=new Element("div.wrapper"),this.wrapper.wraps(this.video),this.container.wraps(this.wrapper);var muted=this.video.muted,current=this.playlist.current();this.buildTextTrackContainer(),this.overlay=new Element("div.overlay"),this.title=new _Title2.default(this.options.title),this.title.update(current.title||(0,_basename2.default)(current.src)),this.debugger=new _Debugger2.default(this.video,this.options.debugger),this.showCaptions=Boolean(this.video.getChildren("track").length),this.buildPanels(),this.buildControls(),this.wrapper.adopt(this.overlay,this.title,this.panels,this.controls,this.debugger),this.controls.seekbar.knob.left=this.controls.seekbar.knob.getStyle("left").toInt(),this.controls.volume.knob.top=this.controls.volume.knob.getStyle("top").toInt(),this.playlist.addEvent("show",function(){_this.panels.update("none"),_this.panels.set("aria-hidden",!1)}),this.playlist.addEvent("hide",function(){_this.panels.update("none"),_this.panels.set("aria-hidden",!0)}),this.playlist.addEvent("select",function(current){var trackElements=Array.convert(current.tracks).map(function(trackObj){return new Element("track",trackObj)});_this.panels.info.getElement("dt.title + dd").set("html",current.title||(0,_basename2.default)(current.src)),_this.panels.info.getElement("dt.url + dd").set("html",current.src),_this.title.update(current.title||(0,_basename2.default)(current.src)),_this.title.show(),_this.video.getChildren("track").destroy(),_this.video.adopt(trackElements),_this.video.poster=current.poster,_this.video.src=current.src,_this.video.load(),_this.video.play()}),this.wrapper.addEvent("mouseenter",function(){_this.controls.show()}),this.wrapper.addEvent("mouseleave",function(){_this.options.autohideControls&&_this.controls.hide()}),this.overlay.addEvent("click",function(){_this.video.play(),_this.title.show()}),video.addEvents({click:function(){_this.video.pause()},playing:function(){_this.container.set("data-playbackstate","playing"),_this.controls.show()},pause:function(){_this.container.set("data-playbackstate","paused")},ended:function(){_this.container.set("data-playbackstate","ended"),_this.playlist.next()},progress:function(e){var percent=0,mb=0;if(e.event.lengthComputable)mb=(e.event.total/1024/1024).round(2),percent=e.event.loaded/e.event.total*100;else if(_this.video.buffered.length){var buffered=_this.video.buffered.end(_this.video.buffered.length-1);percent=buffered/_this.video.duration*100}_this.controls.seekbar.buffered.setStyle("width",percent+"%"),_this.panels.info.getElement("dt.size + dd").set("html",mb+" MB")},seeking:function(){_this.container.set("data-playbackstate","seeking")},seeked:function(){_this.video.paused&&_this.container.set("data-playbackstate","paused")},timeupdate:function(){var percent=_this.video.currentTime/_this.video.duration*100,offset=_this.controls.seekbar.track.getSize().x/100*percent,position=offset+_this.controls.seekbar.knob.left,trackElements=_this.video.getChildren("track"),activeCues=[];_this.controls.elapsed.set("text",(0,_formatSeconds2.default)(_this.video.currentTime)),_this.controls.seekbar.played.setStyle("width",percent+"%"),_this.controls.seekbar.knob.setStyle("left",position+"px"),Array.each(trackElements,function(trackElement){return activeCues.combine(trackElement.track.activeCues)}),_vtt.WebVTT.processCues(window,activeCues,_this.wrapper.getElement(".text-track-container"))},durationchange:function(){_this.controls.duration.set("text",(0,_formatSeconds2.default)(_this.video.duration))},volumechange:function(){var video=_this.video,mutedChanged=muted!==video.muted;muted=video.muted,mutedChanged&&!video.muted&&0===video.volume?video.volume=.5:video.muted&&0!==video.volume&&!mutedChanged?video.muted=!1:mutedChanged||video.muted||0!==video.volume||(video.muted=!0),_this.controls.volume.set("data-muted",video.muted),_this.controls.volume.set("data-level",video.volume.round(2));var volume=video.muted&&mutedChanged?0:video.volume,barSize=_this.controls.volume.track.getSize().y,offset=barSize-volume*barSize;_this.controls.volume.knob.setStyle("top",offset+_this.controls.volume.knob.top)},loadstart:function(){_this.textTrackContainer.update()}}),this.video.autoplay||this.container.set("data-playbackstate","stopped"),this.video.readyState>=1&&this.textTrackContainer.update(),this.textTrackContainer.setStyle("display",this.showCaptions?"block":"none");new Tips(this.wrapper.getElements("[title]"),{className:"video-tip",title:"",text:function(el){return el.get("title")}})},buildPlaylist:function(){var video=this.video,items=[];"array"===typeOf(this.options.playlist)&&(items.combine(this.options.playlist),items.unshift({id:video.get("id"),title:video.get("title")||(0,_basename2.default)(video.currentSrc||video.src),src:video.currentSrc||video.src,tracks:this.serializeTracks(video)})),this.playlist=new _Playlist2.default(items)},buildTextTrackContainer:function(){var self=this;this.textTrackContainer=new Element("div.text-track-container"),this.textTrackContainer.update=function(){this.setStyles({position:"absolute",top:0,left:0,right:0,bottom:self.controls.getDimensions().y,"pointer-events":"none"}),HAS_TRACK_SUPPORT&&self.disableNativeTextTracks(),self.implementTextTracks()},this.textTrackContainer.inject(this.video,"after")},buildPanels:function(){var self=this,autohideControls=this.options.autohideControls;this.panels=new Element("div.panels"),this.panels.info=new Element("div.info",{html:'<div class="heading">Video information</div>\n            <dl>\n                <dt class="title">Title</dt>\n                <dd>'+this.playlist.current().title+'</dd>\n                <dt class="url">URL</dt>\n                <dd>'+this.video.src+'</dd>\n                <dt class="size">Size</dt>\n                <dd></dd>\n            </dl>'}),this.panels.settings=new Element("div.settings",{html:'<div class="heading">Settings</div>\n            <div class="checkbox-widget" data-control="autohideControls" data-checked="'+autohideControls+'">\n                <div class="checkbox"></div>\n                <div class="label">Auto-hide controls</div>\n            </div>\n            <div class="checkbox-widget" data-control="loop" data-checked="'+(this.video.loop||!1)+'">\n                <div class="checkbox"></div>\n                <div class="label">Loop video</div>\n            </div>\n            <div class="checkbox-widget" data-control="captions" data-checked="'+this.showCaptions+'">\n                <div class="checkbox"></div>\n                <div class="label">Show captions</div>\n            </div>\n            <div class="checkbox-widget" data-control="debugger" data-checked="'+!this.debugger.disabled+'">\n                <div class="checkbox"></div>\n                <div class="label">Enable Debugger</div>\n            </div>'}),this.panels.settings.addEvent("click:relay(.checkbox-widget)",function(){"false"===this.get("data-checked")?this.set("data-checked","true"):this.set("data-checked","false");var control=this.get("data-control"),checked=this.get("data-checked");switch(control){case"autohideControls":self.options.autohideControls="true"===checked;break;case"loop":self.video.loop="true"===checked;break;case"captions":self.textTrackContainer.setStyle("display","true"===checked?"block":"none");break;case"debugger":self.debugger["false"===checked?"disable":"enable"]()}self.panels.update("none")}),this.panels.about=new Element("div.about",{html:'<div class="heading">About this player</div>\n            <p><strong>Moovie</strong> v0.4.3-<em>alpha</em></p>\n            <p>Copyright &copy; 2010, Colin Aarts</p>\n            <p><a href="http://colinaarts.com/code/moovie/" rel="external">http://colinaarts.com/code/moovie/</a></p>'}),this.panels.update=function(which){"none"===which||this[which].hasClass("active")?(this.getChildren(".active").removeClass("active"),this.set("aria-hidden",!0)):(this.getChildren().removeClass("active"),this[which].addClass("active"),this.set("aria-hidden",!1))},this.panels.adopt(this.panels.info,this.panels.settings,this.panels.about,this.playlist),this.panels.set("aria-hidden",!0)},serializeTracks:function(video){return video.getChildren("track").map(function(trackElement){for(var serialized={},attributes=trackElement.attributes,i=0,l=attributes.length;i<l;i++)serialized[attributes[i].name]=attributes[i].value;return serialized})},disableNativeTextTracks:function(){for(var i=0,l=this.video.textTracks;i<l;i++)this.video.textTracks[i].mode="disabled"},implementTextTracks:function(){this.video.getChildren("track").each(function(track){return new _HTMLTrackElement2.default(track)})},buildControls:function(){var _this2=this;this.controls=new Element("div.controls"),this.controls.play=new Element("div.play[title=Play]"),this.controls.play.addEvent("click",function(){_this2.video.paused&&_this2.video.readyState>=3?_this2.video.play():!_this2.video.paused&&_this2.video.ended?_this2.video.currentTime=0:_this2.video.paused||_this2.video.pause()}),this.controls.stop=new Element("div.stop[title=Stop]"),this.controls.stop.addEvent("click",function(){_this2.video.currentTime=0,_this2.video.pause()}),this.controls.previous=new Element("div.previous[title=Previous]"),this.controls.previous.addEvent("click",function(){_this2.playlist.previous()}),this.controls.next=new Element("div.next[title=Next]"),this.controls.next.addEvent("click",function(){_this2.playlist.next()}),this.controls.elapsed=new Element("div.elapsed[text=0:00]"),this.controls.seekbar=this.createSeekbar(),this.controls.duration=new Element("div.duration[text=0:00]"),this.controls.volume=this.createVolumeControl(),this.controls.settings=new Element("div.settings[title=Settings]"),this.controls.settings.addEvent("click",function(){_this2.panels.update("settings")}),this.controls.more=this.createMoreControl(),this.controls.fullscreen=new Element("div.fullscreen[title=Fullscreen]"),this.controls.fullscreen.addEvent("click",function(){_screenfull2.default.toggle(_this2.wrapper)}),this.controls.adopt(this.controls.play,this.controls.stop,this.controls.previous,this.controls.next,this.controls.elapsed,this.controls.seekbar,this.controls.duration,this.controls.volume,this.controls.settings,this.controls.more,this.controls.fullscreen),this.video.controls=!1,this.controls.show=function(){return this.set("aria-hidden",!1)},this.controls.hide=function(){return this.set("aria-hidden",!0)}},createSeekbar:function(){var video=this.video,seekbar=new Element("div.seekbar"),locToTime=function(value){var position=seekbar.track.getPosition().x,width=seekbar.track.getSize().x,offsetPx=value-position,offsetPc=offsetPx/width*100;return video.duration/100*offsetPc};return seekbar.addEvent("mousedown",function(e){var update=function(e){var offset=e.page.x-seekbar.track.getPosition().x,pct=offset/seekbar.track.getSize().x;video.pause(),video.currentTime=(pct*video.duration).limit(0,video.duration)},move=function(e){update(e)},stop=function stop(){document.removeEvent("mousemove",move),document.removeEvent("mouseup",stop),video.play()};document.addEvent("mousemove",move),document.addEvent("mouseup",stop),update(e)}),seekbar.slider=new Element("div.slider"),seekbar.slider.addEvents({mousemove:function(e){var barX=seekbar.track.getPosition().x,sliderX=seekbar.knob.getPosition().x,position=0,time=0;e.target===seekbar.knob?(position=sliderX-barX-seekbar.knob.left,time=(0,_formatSeconds2.default)(locToTime(sliderX-seekbar.knob.left))):(position=e.page.x-barX,time=(0,_formatSeconds2.default)(locToTime(e.page.x))),seekbar.time.set("data-displaystate","showing"),seekbar.time.setStyle("left",position+"px"),seekbar.time.getFirst().set("text",time)},mouseleave:function(){seekbar.time.set("data-displaystate","hidden")}}),seekbar.track=new Element("div.track"),seekbar.time=new Element("div.tooltip").grab(new Element("div[text=0:00]")),seekbar.buffered=new Element("div.buffered"),seekbar.played=new Element("div.played"),seekbar.knob=new Element("div.knob"),seekbar.track.adopt(seekbar.buffered,seekbar.played,seekbar.knob),seekbar.slider.adopt(seekbar.track),seekbar.adopt(seekbar.time,seekbar.slider),seekbar.time.set("data-displaystate","hidden"),seekbar},createVolumeControl:function(){var video=this.video,volume=new Element("div.volume[title=Mute]");return volume.addEvent("click",function(){video.muted=!video.muted}),volume.popup=new Element("div.popup"),volume.popup.addEvent("click",function(){return!1}),volume.slider=new Element("div.slider"),volume.slider.addEvent("mousedown",function(e){var update=function(e){var offset=e.page.y-volume.track.getPosition().y,pct=offset/volume.track.getSize().y;video.volume=(1-1*pct).limit(0,1)},move=function(e){update(e)},stop=function stop(){document.removeEvent("mousemove",move),document.removeEvent("mouseup",stop)};document.addEvent("mousemove",move),document.addEvent("mouseup",stop),update(e)}),volume.track=new Element("div.track"),volume.knob=new Element("div.knob"),volume.track.grab(volume.knob),volume.slider.grab(volume.track),volume.popup.grab(volume.slider),volume.grab(volume.popup),volume},createMoreControl:function(){var playlist=this.playlist,panels=this.panels,more=new Element("div.more");return more.popup=new Element("div.popup"),more.about=new Element("div.about[title=About]"),more.about.addEvent("click",function(){panels.update("about")}),more.info=new Element("div.info[title=Video info]"),more.info.addEvent("click",function(){panels.update("info")}),more.playlist=new Element("div.playlist[title=Playlist]"),more.playlist.addEvent("click",function(){playlist.hidden?playlist.show():playlist.hide()}),more.popup.adopt(more.about,more.info,more.playlist),more.grab(more.popup),more}});Element.implement({toMoovie:function(options){this.store("moovie",new Moovie(this,options))}}),Element.NativeEvents.timeupdate||(Element.NativeEvents=Object.merge(Element.NativeEvents,_MediaEvents2.default)),exports.default=Moovie},{"./Debugger.js":8,"./Playlist.js":10,"./Title.js":11,"./core/MediaEvents.js":12,"./texttracks/HTMLTrackElement.js":13,"./utils/basename.js":19,"./utils/formatSeconds.js":20,screenfull:1,"vtt.js":2}],10:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _basename=require("./utils/basename.js"),_basename2=_interopRequireDefault(_basename),Playlist=new Class({Implements:[Events,Options],options:{},initialize:function(items){this.items="array"===typeOf(items)?items:[],this.index=this.items.length?0:-1,this.build().attach().hide()},attach:function(){var _this=this;return this.element.addEvent("click:relay(.label)",function(e){var item=_this.getParents("li")[0],index=item.get("data-index").toInt();e.stop(),_this.select(index),_this.hide()}),this},build:function(){var _this2=this;return this.element=new Element("div.playlist",{html:'<div><div class="heading">Playlist</div></div><div><ol class="playlist"></ol></div>'}),this.items.each(function(item,index){_this2.element.getElement("ol.playlist").grab(new Element("li",{"data-index":index,class:_this2.current()===item?"active":"",html:'<div class="checkbox-widget" data-checked="true">\n                        <div class="checkbox"></div>\n                        <div class="label">'+(item.title||(0,_basename2.default)(item.src))+"</div>\n                    </div>"}))}),this},active:function(){return this.element.getElement("ol.playlist li.active")},show:function(){return this.hidden=!1,this.element.set("aria-hidden",!1),this.element.addClass("active"),this.fireEvent("show"),this},hide:function(){return this.hidden=!0,this.element.set("aria-hidden",!0),this.element.removeClass("active"),this.fireEvent("hide"),this},size:function(){return this.items.length},current:function(){return this.items[this.index]||null},hasPrevious:function(){return this.index>0},previous:function(){return this.select(this.index-1)},hasNext:function(){return this.index<this.items.length-1},next:function(){return this.select(this.index+1)},select:function(index){return index>=0&&index<this.items.length&&(this.index=index,this.active().removeClass("active"),this.element.getElement('ol.playlist li[data-index="'+index+'"]').addClass("active"),this.fireEvent("select",this.current())),this},isHidden:function(){return this.hidden},toElement:function(){return this.element}});exports.default=Playlist},{"./utils/basename.js":19}],11:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Title=new Class({Implements:[Events,Options],options:{autohide:!0,delay:6e3,hidden:!0,content:""},initialize:function(options){this.setOptions(options).build(),this[this.options.hidden?"hide":"show"]()},build:function(){return this.element=new Element("div.moovie-title"),this.element.set("html",this.options.content),this},update:function(content){return this.element.set("html",content),this},show:function(){return this.hidden=!1,this.element.set("aria-hidden",!1),this.fireEvent("show"),this.id&&clearTimeout(this.id),this.options.autohide&&(this.id=this.hide.delay(this.options.delay,this)),this},hide:function(){return this.hidden=!0,this.element.set("aria-hidden",!0),this.fireEvent("hide"),this},isHidden:function(){return this.hidden},toElement:function(){return this.element}});exports.default=Title},{}],12:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var MediaEvents={abort:1,canplay:1,canplaythrough:1,durationchange:1,emptied:1,ended:1,error:1,loadeddata:1,loadedmetadata:1,loadstart:1,pause:1,play:1,playing:1,progress:2,ratechange:1,seeked:1,seeking:1,stalled:1,suspend:1,timeupdate:1,volumechange:1,waiting:1};exports.default=MediaEvents},{}],13:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _TextTrack=require("./TextTrack.js"),_TextTrack2=_interopRequireDefault(_TextTrack),_WebSRT=require("./WebSRT.js"),_WebSRT2=_interopRequireDefault(_WebSRT),_TextTrackKind=require("./TextTrackKind"),_TextTrackKind2=_interopRequireDefault(_TextTrackKind),_vtt=require("vtt.js"),getParser=function(extension){switch(extension){case"srt":return new _WebSRT2.default.Parser;case"vtt":return new _vtt.WebVTT.Parser(window,_vtt.WebVTT.StringDecoder());default:throw new Error("Unsupported file type: "+extension)}},HTMLTrackElement=function(trackElement){var readyState=0,textTrack=new _TextTrack2.default(trackElement),request=new Request({url:trackElement.get("src"),onSuccess:function(data){var parser=getParser(trackElement.get("src").split(".").pop());parser.oncue=function(cue){textTrack.addCue(cue)},parser.onparsingerror=function(){readyState=3},parser.onflush=function(){readyState=2},parser.parse(data),parser.flush(),readyState=1},onError:function(){readyState=3}});return request.send(),Object.defineProperties(trackElement,{kind:{get:function(){return this.get("kind")||textTrack.kind},set:function(kind){this.set("kind",_TextTrackKind2.default.contains(kind)?kind:"metadata")}},src:{get:function(){return this.get("src")},set:function(src){this.set("src",src)}},srclang:{get:function(){return this.get("srclang")},set:function(srclang){this.set("src",srclang)}},label:{get:function(){return this.get("label")},set:function(label){this.set("label",label)}},default:{get:function(){return this.hasAttribute("default")},set:function(isDefault){isDefault?this.setAttribute("default",""):this.removeAttribute("default");
}},NONE:{value:0,writeable:!1},LOADING:{value:1,writeable:!1},LOADED:{value:2,writeable:!1},ERROR:{value:3,writeable:!1},readyState:{get:function(){return readyState}},track:{get:function(){return textTrack}},$track:{value:!0,writeable:!1}}),trackElement};exports.default=HTMLTrackElement},{"./TextTrack.js":15,"./TextTrackKind":16,"./WebSRT.js":18,"vtt.js":2}],14:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vtt=require("vtt.js"),SRTCue=_vtt.VTTCue;exports.default=SRTCue},{"vtt.js":2}],15:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _TextTrackKind=require("./TextTrackKind"),_TextTrackKind2=_interopRequireDefault(_TextTrackKind),_TextTrackMode=require("./TextTrackMode"),_TextTrackMode2=_interopRequireDefault(_TextTrackMode),TextTrack=function(trackElement){var kind="",label="",mode="disabled",language="",id="",inBandMetadataTrackDispatchType="",cues=[],activeCues=[],media=trackElement.getParent("video");trackElement.get("kind")?_TextTrackKind2.default.contains(trackElement.get("kind"))||(kind="metadata"):kind="subtitles",media.addEvent("timeupdate",function(){var processingTime=.39,time=media.currentTime+processingTime,i=0;for(i=activeCues.length;i--;)(activeCues[i].startTime>time||activeCues[i].endTime<time)&&(activeCues[i].pauseOnExit&&media.pause(),activeCues.splice(i,1));for(i=cues.length;i--;)cues[i].startTime<=time&&cues[i].endTime>=time&&activeCues.include(cues[i])}),Object.defineProperties(this,{kind:{get:function(){return kind}},label:{get:function(){return label}},language:{get:function(){return language}},id:{get:function(){return id}},inBandMetadataTrackDispatchType:{get:function(){return inBandMetadataTrackDispatchType}},mode:{get:function(){return mode},set:function(value){_TextTrackMode2.default.contains(value)&&(mode=value)}},cues:{get:function(){return cues}},activeCues:{get:function(){return activeCues}},addCue:{value:function(cue){cues.push(cue)}},removeCue:{value:function(cue){cues.remove(cue)}},oncuechange:{value:Function.from()}})};exports.default=TextTrack},{"./TextTrackKind":16,"./TextTrackMode":17}],16:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TextTrackKind=["subtitles","captions","descriptions","chapters","metadata"];exports.default=TextTrackKind},{}],17:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TextTrackMode=["disabled","showing","hidden"];exports.default=TextTrackMode},{}],18:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _SRTCue=require("./SRTCue"),_SRTCue2=_interopRequireDefault(_SRTCue),WebSRT={};WebSRT.Parser=new Class({initialize:function(){this.oncue=Function.from(),this.onflush=Function.from(),this.onparsingerror=Function.from(),this.buffer="",this.cues=[]},computeSeconds:function(h,m,s,f){var hours=3600*h.toInt(),minutes=60*m.toInt(),seconds=s.toInt(),milliseconds=f.toInt()/1e3;return hours+minutes+seconds+milliseconds},parseTimeStamp:function(input){var matches=input.match(/^(\d{2}):(\d{2}):(\d{2}),(\d{3})/);return matches?this.computeSeconds(matches[1],matches[2],matches[3],matches[4]):null},parse:function(data){this.buffer=this.buffer+data},flush:function(){var _this=this,rawCues=this.buffer.replace(/\r?\n/gm,"\n").trim().split("\n\n");rawCues.each(function(rawCueBlock){var cueLines=rawCueBlock.split("\n"),cueid=cueLines.shift(),cuetc=cueLines.shift().split(" --> "),cueobj=new _SRTCue2.default(_this.parseTimeStamp(cuetc[0]),_this.parseTimeStamp(cuetc[1]),cueLines.join("\n"));cueobj.id=cueid,_this.oncue.call(_this,cueobj)}),this.onflush.call(this)}}),exports.default=WebSRT},{"./SRTCue":14}],19:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var basename=function(path,suffix){var b=path,lastChar=b.charAt(b.length-1);return"/"!==lastChar&&"\\"!==lastChar||(b=b.slice(0,-1)),b=b.replace(/^.*[\/\\]/g,""),"string"==typeof suffix&&b.substr(b.length-suffix.length)===suffix&&(b=b.substr(0,b.length-suffix.length)),b};exports.default=basename},{}],20:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var parse=function(input){return{hh:Math.floor(input/3600),mm:Math.floor(input%3600/60),ss:Math.ceil(input%3600%60)}},format=function(input){var _parse=parse(input),hh=_parse.hh,mm=_parse.mm,ss=_parse.ss;return 60===ss&&(ss=0,mm+=1),ss<10&&(ss="0"+ss),60===mm&&(mm=0,hh+=1),hh>0&&mm<10&&(mm="0"+mm),0===hh?mm+":"+ss:hh+":"+mm+":"+ss};exports.default=format},{}]},{},[9])(9)});
